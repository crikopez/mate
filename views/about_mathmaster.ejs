<!DOCTYPE html>
<html lang="es" class="<%= typeof isDarkMode !== 'undefined' && isDarkMode ? 'dark' : '' %>">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= titulo %> - MathMaster
    </title>
    <!-- Incluye Tailwind CSS CDN para estilos modernos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Configuración de Tailwind para usar colores y fuentes personalizados
        tailwind.config = {
            darkMode: 'class', // Habilita el modo oscuro basado en la clase 'dark'
            theme: {
                extend: {
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'], // Define la fuente Inter
                    },
                    colors: {
                        // Define una paleta de colores personalizada si lo deseas
                        primary: '#4F46E5', // Indigo 600
                        secondary: '#8B5CF6', // Violet 500
                    },
                    animation: {
                        // Define las animaciones personalizadas
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'fade-in-up': 'fadeInUp 0.6s ease-out forwards',
                        'fade-in-down': 'fadeInDown 0.6s ease-out forwards',
                        'slide-in-left': 'slideInLeft 0.4s ease-out forwards',
                        'slide-in-right': 'slideInRight 0.4s ease-out forwards',
                        'pulse-custom': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'progress-bar': 'progressBar 1.5s ease-out forwards',
                        'bounce-in': 'bounceIn 0.8s ease-out forwards',
                        'scale-up': 'scaleUp 0.5s ease-out forwards',
                    },
                    // Añade utilidades para retrasos de animación
                    animationDelay: { // Custom animation delays
                        '0': '0s',
                        '100': '0.1s',
                        '150': '0.15s',
                        '200': '0.2s',
                        '300': '0.3s',
                        '400': '0.4s',
                        '500': '0.5s',
                        '600': '0.6s',
                        '700': '0.7s',
                        '800': '0.8s',
                        '900': '0.9s',
                        '1000': '1s',
                    }
                }
            }
        }
    </script>
    <!-- Importa la fuente Inter desde Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <style>
        /* Estilos CSS personalizados y keyframes para animaciones */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Animaciones Keyframes */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: .5;
            }
        }

        @keyframes progressBar {
            0% {
                width: 0%;
            }

            100% {
                width: 45%;
            }

            /* Ajusta esto al porcentaje deseado */
        }

        @keyframes bounceIn {

            0%,
            20%,
            40%,
            60%,
            80%,
            100% {
                transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
            }

            0% {
                opacity: 0;
                transform: scale3d(0.3, 0.3, 0.3);
            }

            20% {
                transform: scale3d(1.1, 1.1, 1.1);
            }

            40% {
                transform: scale3d(0.9, 0.9, 0.9);
            }

            60% {
                opacity: 1;
                transform: scale3d(1.03, 1.03, 1.03);
            }

            80% {
                transform: scale3d(0.97, 0.97, 0.97);
            }

            100% {
                opacity: 1;
                transform: scale3d(1, 1, 1);
            }
        }

        @keyframes scaleUp {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Clases de utilidad de animación */
        .animate-fade-in {
            animation-name: fadeIn;
        }

        .animate-fade-in-up {
            animation-name: fadeInUp;
        }

        .animate-fade-in-down {
            animation-name: fadeInDown;
        }

        .animate-slide-in-left {
            animation-name: slideInLeft;
        }

        .animate-slide-in-right {
            animation-name: slideInRight;
        }

        .animate-pulse-custom {
            animation-name: pulse;
        }

        .animate-progress-bar {
            animation-name: progressBar;
        }

        .animate-bounce-in {
            animation-name: bounceIn;
        }

        .animate-scale-up {
            animation-name: scaleUp;
        }

        /* Estilos para la barra de desplazamiento en modo oscuro */
        .dark ::-webkit-scrollbar {
            width: 8px;
        }

        .dark ::-webkit-scrollbar-track {
            background: #4B5563;
            border-radius: 10px;
        }

        .dark ::-webkit-scrollbar-thumb {
            background: #6B7280;
            border-radius: 10px;
        }

        .dark ::-webkit-scrollbar-thumb:hover {
            background: #9CA3AF;
        }
    </style>
</head>

<body
    class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 font-inter transition-colors duration-300 min-h-screen flex flex-col">

    <!-- Top Bar -->
    <header
        class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 shadow-lg rounded-b-xl animate-fade-in-down">
        <div class="flex items-center">
            <button id="sidebarToggle" class="text-gray-600 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-md p-2 lg:hidden transform hover:scale-105 transition-transform duration-200" aria-label="Toggle navigation">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
            <h1 class="text-3xl font-extrabold text-blue-700 dark:text-blue-400 ml-3 tracking-wide animate-bounce-in">
                MathMaster</h1>
        </div>
        <div class="flex items-center space-x-4">
            <!-- Asumiendo que userId es una variable EJS pasada por el servidor -->
            <% if (typeof userId !=='undefined' && userId) { %>
                <span class="text-sm text-gray-500 dark:text-gray-400 hidden md:block px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full shadow-inner">
                    ID de Usuario: <%= userId %>
                </span>
                <% } %>
                    <button id="darkModeToggle" class="p-3 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transform hover:scale-110" aria-label="Toggle dark mode">
                <!-- Icono de sol/luna, se actualizará con JS -->
                <svg class="w-6 h-6 sun-icon" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 4a1 1 0 011 1v1a1 1 0 11-2 0V7a1 1 0 011-1zm-4 8a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zm-4-4a1 1 0 011 1v1a1 1 0 11-2 0V7a1 1 0 011-1zm10.293-2.293a1 1 0 010 1.414l-1 1a1 1 0 11-1.414-1.414l1-1a1 1 0 011.414 0zM5.707 14.293a1 1 0 010-1.414l1-1a1 1 0 10-1.414-1.414l-1 1a1 1 0 011.414 1.414zM16 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM3 10a1 1 0 01-1 1H1a1 1 0 110-2h1a1 1 0 011 1z" clip-rule="evenodd"></path></svg>
                <svg class="w-6 h-6 moon-icon hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
            </button>
            <!-- El botón de ajustes y su menú han sido eliminados de aquí -->
        </div>
    </header>

    <div class="flex flex-1 flex-col lg:flex-row">
        <!-- Sidebar -->
        <aside id="sidebar"
            class="fixed inset-y-0 left-0 z-40 w-64 bg-white dark:bg-gray-800 shadow-2xl transform -translate-x-full opacity-0 lg:relative lg:translate-x-0 lg:opacity-100 transition-transform duration-300 ease-in-out lg:flex-shrink-0 lg:w-64 border-r border-gray-200 dark:border-gray-700">
            <div
                class="p-4 flex justify-between items-center border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-500 to-purple-600 dark:from-gray-700 dark:to-gray-900 text-white rounded-tr-lg">
                <h2 class="text-xl font-bold tracking-wide">Módulos</h2>
                <button id="sidebarClose" class="lg:hidden text-white focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-md p-1 transform hover:scale-110 transition-transform duration-200" aria-label="Close sidebar">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <nav class="mt-4 px-3">
                <ul>
                    <li>
                        <a href="/"
                            class="block w-full text-left py-2.5 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-[1.02] hover:shadow-md bg-blue-600 text-white font-semibold shadow-lg animate-slide-in-left delay-100">
                            Inicio
                        </a>
                    </li>
                    <li class="mt-1">
                        <a href="/insertar-polinomios"
                            class="block w-full text-left py-2.5 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-[1.02] hover:shadow-md text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 animate-slide-in-left delay-200">
                            Polinomios
                        </a>
                    </li>
                    <li class="mt-1">
                        <a href="/insertar-desigualdades"
                            class="block w-full text-left py-2.5 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-[1.02] hover:shadow-md text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 animate-slide-in-left delay-300">
                            Desigualdades
                        </a>
                    </li>
                    <li class="mt-1">
                        <a href="/insertar-algebra-general"
                            class="block w-full text-left py-2.5 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-[1.02] hover:shadow-md text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 animate-slide-in-left delay-400">
                            Álgebra General
                        </a>
                    </li>
                    <li class="mt-1">
                        <a href="/calculadora-grafica"
                            class="block w-full text-left py-2.5 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-[1.02] hover:shadow-md text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 animate-slide-in-left delay-500">
                            Calculadora Gráfica
                        </a>
                    </li>
                    <li class="mt-1">
                        <a href="/chatbot-matematico"
                            class="block w-full text-left py-2.5 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-[1.02] hover:shadow-md text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 animate-slide-in-left delay-600">
                            Chatbot Matemático
                        </a>
                    </li>
                    <!-- NUEVO: Enlace a "Acerca de MathMaster" en la barra lateral con estilo verde oscuro -->
                    <li class="mt-1">
                        <a href="/about-mathmaster"
                            class="block w-full text-left py-2.5 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-[1.02] hover:shadow-md text-green-700 dark:text-green-300 hover:bg-green-100 dark:hover:bg-green-800 animate-slide-in-left delay-700 cursor-pointer">
                            Acerca de MathMaster
                        </a>
                    </li>
                    <!-- Puedes añadir más enlaces a otros módulos aquí -->
                </ul>
            </nav>
            <div
                class="p-4 mt-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 rounded-b-xl">
                <h3 class="text-lg font-semibold mb-2 text-blue-600 dark:text-blue-400">Progreso General</h3>
                <div class="w-full bg-gray-200 rounded-full h-3 dark:bg-gray-700 shadow-inner">
                    <div class="bg-gradient-to-r from-green-400 to-blue-500 h-3 rounded-full animate-progress-bar"
                        style="width: 45%;"></div>
                </div>
                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">13.5    % Completado</p>
                <!-- El ID de usuario ha sido eliminado de aquí según tu solicitud -->
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="flex-1 p-6 lg:p-8 overflow-y-auto animate-fade-in">
            <section
                class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl mb-8 border border-gray-100 dark:border-gray-700 animate-fade-in-up">
                <h2
                    class="text-4xl font-extrabold text-blue-700 dark:text-blue-400 mb-6 text-center leading-tight animate-scale-up">
                    Acerca de <span class="text-purple-600 dark:text-purple-300">MathMaster</span>
                </h2>
                <p
                    class="text-xl text-gray-700 dark:text-gray-300 mb-6 text-center max-w-2xl mx-auto leading-relaxed animate-fade-in-up delay-100">
                    MathMaster es tu compañero definitivo para el aprendizaje de las matemáticas. Nuestra aplicación
                    está diseñada para hacer que conceptos complejos sean accesibles y divertidos.
                </p>

                <div class="mt-8 grid grid-cols-1 gap-8">
                    <!-- Descripción de Módulos -->
                    <div
                        class="bg-gradient-to-br from-blue-100 to-purple-100 dark:from-gray-700 dark:to-gray-900 p-6 rounded-xl shadow-lg border border-blue-200 dark:border-gray-600 transform hover:scale-105 transition-transform duration-300 animate-fade-in-up delay-200">
                        <h3 class="text-2xl font-bold text-blue-800 dark:text-blue-300 mb-3">Módulos de Contenido
                        </h3>
                        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                            Nuestros módulos de contenido están estructurados para un aprendizaje progresivo, cubriendo
                            desde los fundamentos hasta temas avanzados. Cada módulo ofrece explicaciones claras y
                            ejemplos prácticos, diseñados para reforzar tu comprensión y ayudarte a dominar cada
                            concepto a tu propio ritmo.
                        <ul class="list-disc list-inside mt-4 space-y-2 text-gray-600 dark:text-gray-400">
                            <li>
                                <strong>Polinomios:</strong> Sumérgete en el mundo de las expresiones algebraicas con
                                múltiples términos. Aprende a realizar operaciones fundamentales como suma, resta,
                                multiplicación y división de polinomios. Descubre técnicas avanzadas de factorización,
                                como el factor común, la diferencia de cuadrados, y el trinomio cuadrado perfecto,
                                esenciales para simplificar expresiones complejas y resolver ecuaciones polinómicas.
                            </li>
                            <li>
                                <strong>Desigualdades:</strong> Domina el arte de resolver inecuaciones lineales,
                                cuadráticas y racionales. Comprende cómo las propiedades de las desigualdades afectan
                                la solución y cómo representar los conjuntos de soluciones en la recta numérica o en el
                                plano cartesiano. Este módulo te equipará con las herramientas para analizar y
                                resolver problemas que involucran rangos de valores.
                            </li>
                            <li>
                                <strong>Álgebra General:</strong> Explora los pilares del álgebra, incluyendo la
                                manipulación de expresiones, la identificación de variables, constantes y coeficientes.
                                Refuerza tu comprensión de las operaciones algebraicas básicas y prepárate para
                                conceptos más avanzados. Este módulo es fundamental para construir una base sólida en
                                matemáticas.
                            </li>
                            <li>
                                <strong>Números Reales:</strong> Profundiza en las propiedades y operaciones de los
                                números reales, incluyendo números racionales e irracionales. Comprende el concepto de
                                valor absoluto, intervalos y cómo se aplican en diferentes contextos matemáticos y de
                                la vida real.
                            </li>
                            <li>
                                <strong>Números Complejos:</strong> Aventúrate en el fascinante reino de los números
                                complejos, una extensión de los números reales. Aprende a representarlos en sus formas
                                binómica y polar, y a realizar operaciones de suma, resta, multiplicación y división.
                                Descubre la importancia de la Fórmula de De Moivre para potencias y raíces, y su
                                aplicación en campos como la ingeniería y la física.
                            </li>
                            <li>
                                <strong>Productos Notables y Factorización:</strong> Identifica y aplica las
                                identidades algebraicas clave que simplifican la multiplicación y la factorización de
                                expresiones. Desde el cuadrado de un binomio hasta la suma/resta de cubos, estas
                                herramientas son cruciales para la eficiencia en el álgebra.
                            </li>
                            <li>
                                <strong>División de Polinomios:</strong> Domina las técnicas de división de
                                polinomios, incluyendo la división larga y la regla de Ruffini. Estas habilidades son
                                vitales para simplificar fracciones algebraicas, encontrar raíces y factorizar
                                polinomios de grados superiores.
                            </li>
                            <li>
                                <strong>Ecuación Cuadrática (Complejos):</strong> Aprende a resolver ecuaciones
                                cuadráticas utilizando la fórmula general y el análisis del discriminante para
                                determinar la naturaleza de sus raíces, incluyendo las soluciones complejas. Visualiza
                                las parábolas asociadas y comprende la relación entre la gráfica y las soluciones.
                            </li>
                        </ul>
                        </p>
                    </div>

                    <!-- Descripción del Chatbot Matemático -->
                    <div
                        class="bg-gradient-to-br from-green-100 to-teal-100 dark:from-gray-700 dark:to-gray-900 p-6 rounded-xl shadow-lg border border-green-200 dark:border-gray-600 transform hover:scale-105 transition-transform duration-300 animate-fade-in-up delay-300">
                        <h3 class="text-2xl font-bold text-green-800 dark:text-green-300 mb-3">Chatbot Matemático
                            (MathBot)</h3>
                        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                            MathBot es tu asistente de IA personal, siempre disponible para resolver tus dudas
                            matemáticas al instante. Ya sea que necesites una explicación detallada de un concepto,
                            ayuda con un ejercicio específico o la verificación de una solución, MathBot te
                            proporcionará respuestas claras, precisas y paso a paso. Es como tener un tutor de
                            matemáticas 24/7 a tu disposición, adaptándose a tu ritmo de aprendizaje y ofreciendo
                            apoyo personalizado.
                        </p>
                    </div>

                    <!-- Descripción de la Calculadora Gráfica -->
                    <div
                        class="bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-gray-700 dark:to-gray-900 p-6 rounded-xl shadow-lg border border-yellow-200 dark:border-gray-600 transform hover:scale-105 transition-transform duration-300 animate-fade-in-up delay-400">
                        <h3 class="text-2xl font-bold text-orange-800 dark:text-orange-300 mb-3">Calculadora Gráfica
                            Avanzada</h3>
                        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                            Visualiza y explora funciones, ecuaciones y desigualdades de forma interactiva con nuestra
                            potente calculadora gráfica. Introduce cualquier expresión matemática y observa cómo se
                            representa visualmente en tiempo real. Experimenta con diferentes parámetros, analiza el
                            comportamiento de las curvas, identifica puntos clave y comprende mejor los conceptos
                            abstractos a través de representaciones gráficas dinámicas y claras. Una herramienta
                            indispensable para la comprensión profunda de las relaciones matemáticas.
                        </p>
                    </div>

                    <!-- Puedes añadir más descripciones de funcionalidades aquí -->
                </div>

                <div class="mt-8 text-center animate-fade-in-up delay-500">
                    <a href="/"
                        class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md">
                        Volver al Inicio
                    </a>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Wrap the entire script in an IIFE to create a private scope
        (function() {
            // JavaScript para manejar el modo oscuro y la barra lateral
            const darkModeToggle = document.getElementById('darkModeToggle');
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebarClose = document.getElementById('sidebarClose');
            const sidebar = document.getElementById('sidebar');
            const htmlElement = document.documentElement;
            // Eliminados: settingsToggle y settingsMenu

            // Función para aplicar el modo oscuro
            function applyDarkMode(isDark) {
                if (isDark) {
                    htmlElement.classList.add('dark');
                    localStorage.setItem('mathmaster_dark_mode', 'true');
                    // Ocultar icono de sol, mostrar icono de luna
                    if (darkModeToggle) { // Asegurarse de que el elemento exista
                        darkModeToggle.querySelector('.sun-icon').classList.add('hidden');
                        darkModeToggle.querySelector('.moon-icon').classList.remove('hidden');
                    }
                } else {
                    htmlElement.classList.remove('dark');
                    localStorage.setItem('mathmaster_dark_mode', 'false');
                    // Mostrar icono de sol, ocultar icono de luna
                    if (darkModeToggle) { // Asegurarse de que el elemento exista
                        darkModeToggle.querySelector('.sun-icon').classList.remove('hidden');
                        darkModeToggle.querySelector('.moon-icon').classList.add('hidden');
                    }
                }
            }

            // Cargar preferencia de modo oscuro al iniciar
            const savedDarkMode = localStorage.getItem('mathmaster_dark_mode');
            if (savedDarkMode === 'true') {
                applyDarkMode(true);
            } else if (savedDarkMode === null && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                // Si no hay preferencia guardada, pero el sistema prefiere oscuro
                applyDarkMode(true);
            } else {
                applyDarkMode(false);
            }

            // Event listener para el botón de modo oscuro
            if (darkModeToggle) {
                darkModeToggle.addEventListener('click', () => {
                    applyDarkMode(!htmlElement.classList.contains('dark'));
                });
            }

            // Eliminados: Event listener para el botón de ajustes y lógica para cerrar el menú de ajustes

            // Event listeners para la barra lateral
            if (sidebarToggle) { // Check if element exists
                sidebarToggle.addEventListener('click', () => {
                    if (sidebar) { // Check if element exists
                        sidebar.classList.remove('-translate-x-full');
                        sidebar.classList.add('opacity-100'); // Añadir opacidad al abrir
                        sidebar.classList.remove('opacity-0'); // Remover opacidad inicial
                    }
                });
            }

            if (sidebarClose) { // Check if element exists
                sidebarClose.addEventListener('click', () => {
                    if (sidebar) { // Check if element exists
                        sidebar.classList.add('-translate-x-full');
                        sidebar.classList.remove('opacity-100'); // Remover opacidad al cerrar
                        sidebar.classList.add('opacity-0'); // Añadir opacidad para que se desvanezca
                    }
                });
            }

            // Cerrar sidebar al hacer clic fuera en pantallas pequeñas
            document.addEventListener('click', (event) => {
                if (!sidebar.contains(event.target) && !sidebarToggle.contains(event.target) && window.innerWidth < 1024) {
                    sidebar.classList.add('-translate-x-full');
                    sidebar.classList.remove('opacity-100');
                    sidebar.classList.add('opacity-0');
                }
            });

            // Asegurarse de que la barra lateral sea visible por defecto en pantallas grandes
            function checkSidebarVisibility() {
                if (window.innerWidth >= 1024) {
                    sidebar.classList.remove('-translate-x-full', 'opacity-0');
                    sidebar.classList.add('opacity-100');
                } else {
                    // En pantallas pequeñas, si no está abierta, asegúrate de que esté oculta y con opacidad 0
                    if (!sidebar.classList.contains('opacity-100')) {
                        sidebar.classList.add('-translate-x-full', 'opacity-0');
                    }
                }
            }

            // Ejecutar al cargar y al redimensionar
            window.addEventListener('load', checkSidebarVisibility);
            window.addEventListener('resize', checkSidebarVisibility);
        })(); // End of IIFE
    </script>
</body>

</html>